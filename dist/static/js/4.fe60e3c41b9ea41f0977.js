webpackJsonp([4],{"0W5o":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("4YfN"),a=o.n(n),i=o("9rMa"),s=o("wSez"),m=o("0xDb"),r=o("Hqqj"),c={name:"ModifyMemo",components:{Header:o("teIl").a},data:function(){return{memo_category_id:"",memo_title:"",memo_content:"",memo_star:!1}},methods:a()({},Object(i.b)({modify_memo:r.a.MODIFY_MEMO}),{handleSubmitBtn:function(){var t=this.$route.params.id;this.modify_memo({uid:t,categoryId:this.$store.state.type.indexOf(this.memo_category_id),title:this.memo_title,content:this.memo_content,star:this.memo_star,timestamp:Date.now()}).then(function(){Object(s.Toast)({message:"修改成功"})}).catch(function(t){Object(s.Toast)({message:"修改失败，请重试"})}),this.$router.go(-1)}}),mounted:function(){var t=this,e=this.$route.params.id;this.$store.state.memos.forEach(function(o){if(o.uid===e){var n=[t.$store.state.type[o.categoryId],o.title,o.content,o.star];t.memo_category_id=n[0],t.memo_title=n[1],t.memo_content=n[2],t.memo_star=n[3]}});var o=this.$refs.title.$refs.input,n=this.$refs.content.$refs.textarea;o.onfocus=m.a.intoView,n.onfocus=m.a.intoView,window.ontouchstart=function(){o.blur(),n.blur()}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",[o("div",[o("Header"),t._v(" "),o("div",{staticClass:"content"},[o("mt-field",{ref:"title",attrs:{label:"标题",placeholder:"请输入标题"},model:{value:t.memo_title,callback:function(e){t.memo_title=e},expression:"memo_title"}}),t._v(" "),o("mt-field",{ref:"content",attrs:{label:"内容",placeholder:"文本内容",type:"textarea",rows:"20"},model:{value:t.memo_content,callback:function(e){t.memo_content=e},expression:"memo_content"}}),t._v(" "),o("mt-radio",{attrs:{title:"笔记类型",options:this.$store.state.type},model:{value:t.memo_category_id,callback:function(e){t.memo_category_id=e},expression:"memo_category_id"}})],1),t._v(" "),o("div",{staticClass:"button-group"},[o("mt-button",{staticClass:"new-memo",attrs:{plain:"",size:"large",type:"primary"},nativeOn:{click:function(e){t.handleSubmitBtn(e)}}},[t._v("确认提交")])],1)],1)])},staticRenderFns:[]};var d=o("Z0/y")(c,l,!1,function(t){o("QZEI")},"data-v-57e0d289",null);e.default=d.exports},QZEI:function(t,e){}});
//# sourceMappingURL=4.fe60e3c41b9ea41f0977.js.map