webpackJsonp([4],{HyGi:function(t,e){},ZiMd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Dd8w"),i=n.n(o),c=n("9rMa"),l=n("wSez"),r=n("0xDb"),a=n("Hqqj"),s={name:"NewMemo",components:{Header:n("teIl").a},data:function(){return{memo_category_id:"",memo_title:"",memo_content:"",titleInputer:null,contentInputer:null}},computed:i()({},Object(c.d)({type:"type"})),methods:i()({},Object(c.b)({add_memo:a.a.ADD_MEMO}),{handleSubmitBtn:function(t){if(0===this.memo_title.length||0===this.memo_content.length)return Object(l.Toast)({message:"标题或内容不能为空",position:"middle"}),!1;this.add_memo({uid:r.a.uid(),categoryId:this.$store.state.type.indexOf(this.memo_category_id),title:this.memo_title,content:this.memo_content,completed:!1,timestamp:Date.now()}).then(function(){Object(l.Toast)({message:"发布成功"})}).catch(function(t){Object(l.Toast)({message:"发布失败，请重试"}),console.log(t)}),this.$router.push({path:"/"})},handleCancelBtn:function(){this.$router.push({path:"/"})}}),mounted:function(){var t=this;this.memo_category_id=this.type[0],this.titleInputer=document.querySelector("input.mint-field-core"),this.contentInputer=document.querySelector("textarea.mint-field-core"),this.titleInputer.onfocus=function(e){setTimeout(function(){t.titleInputer.scrollIntoView(!0),t.titleInputer.scrollIntoViewIfNeeded()},300)},this.contentInputer.onfocus=function(e){setTimeout(function(){t.contentInputer.scrollIntoView(!0),t.contentInputer.scrollIntoViewIfNeeded()},300)},window.ontouchstart=function(){t.titleInputer.blur(),t.contentInputer.blur()}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),t._v(" "),n("mt-radio",{attrs:{title:"笔记类型",options:this.$store.state.type},model:{value:t.memo_category_id,callback:function(e){t.memo_category_id=e},expression:"memo_category_id"}}),t._v(" "),n("mt-field",{attrs:{label:"标题",placeholder:"请输入标题"},model:{value:t.memo_title,callback:function(e){t.memo_title=e},expression:"memo_title"}}),t._v(" "),n("mt-field",{attrs:{label:"内容",placeholder:"文本内容",type:"textarea",rows:"12"},model:{value:t.memo_content,callback:function(e){t.memo_content=e},expression:"memo_content"}}),t._v(" "),n("div",{staticClass:"button-group"},[n("mt-button",{staticClass:"new-memo",attrs:{plain:"",size:"large",type:"primary"},nativeOn:{click:function(e){t.handleSubmitBtn(e)}}},[t._v("确认提交")])],1)],1)},staticRenderFns:[]};var u=n("VU/8")(s,m,!1,function(t){n("HyGi")},null,null);e.default=u.exports}});
//# sourceMappingURL=4.8ef61c14d13e4eaf153f.js.map