webpackJsonp([4],{"0W5o":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("4YfN"),i=o.n(n),r=o("9rMa"),a=o("wSez"),c=(o("0xDb"),o("Hqqj")),s={name:"ModifyMemo",components:{Header:o("teIl").a},data:function(){return{memo_category_id:"",memo_title:"",memo_content:"",memo_star:!1,titleInputer:null,contentInputer:null}},methods:i()({},Object(r.b)({modify_memo:c.a.MODIFY_MEMO}),{handleSubmitBtn:function(){var t=this.$route.params.id;this.modify_memo({uid:t,categoryId:this.$store.state.type.indexOf(this.memo_category_id),title:this.memo_title,content:this.memo_content,star:this.memo_star,timestamp:Date.now()}).then(function(){Object(a.Toast)({message:"修改成功"})}).catch(function(t){Object(a.Toast)({message:"修改失败，请重试"})}),this.$router.go(-1)}}),mounted:function(){var t=this,e=this.$route.params.id;this.$store.state.memos.forEach(function(o){if(o.uid===e){var n=[t.$store.state.type[o.categoryId],o.title,o.content,o.star];t.memo_category_id=n[0],t.memo_title=n[1],t.memo_content=n[2],t.memo_star=n[3]}}),this.titleInputer=document.querySelector("input.mint-field-core"),this.contentInputer=document.querySelector("textarea.mint-field-core"),this.titleInputer.onfocus=function(e){setTimeout(function(){t.titleInputer.scrollIntoView(!0),t.titleInputer.scrollIntoViewIfNeeded()},300)},this.contentInputer.onfocus=function(e){setTimeout(function(){t.contentInputer.scrollIntoView(!0),t.contentInputer.scrollIntoViewIfNeeded()},300)},window.ontouchstart=function(){t.titleInputer.blur(),t.contentInputer.blur()}}},m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",[o("div",[o("Header"),t._v(" "),o("div",{staticClass:"content"},[o("mt-field",{attrs:{label:"标题",placeholder:"请输入标题"},model:{value:t.memo_title,callback:function(e){t.memo_title=e},expression:"memo_title"}}),t._v(" "),o("mt-field",{attrs:{label:"内容",placeholder:"文本内容",type:"textarea",rows:"20"},model:{value:t.memo_content,callback:function(e){t.memo_content=e},expression:"memo_content"}}),t._v(" "),o("mt-radio",{attrs:{title:"笔记类型",options:this.$store.state.type},model:{value:t.memo_category_id,callback:function(e){t.memo_category_id=e},expression:"memo_category_id"}})],1),t._v(" "),o("div",{staticClass:"button-group"},[o("mt-button",{staticClass:"new-memo",attrs:{plain:"",size:"large",type:"primary"},nativeOn:{click:function(e){t.handleSubmitBtn(e)}}},[t._v("确认提交")])],1)],1)])},staticRenderFns:[]};var l=o("Z0/y")(s,m,!1,function(t){o("6wk6")},"data-v-7fd4c38a",null);e.default=l.exports},"6wk6":function(t,e){}});
//# sourceMappingURL=4.79d5cb4a87ddb525641f.js.map